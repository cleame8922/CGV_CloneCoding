{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/ticket/chooseTheater/{movieId}/{branchId}/{screeningDate}":{"post":{"tags":["booking-controller"],"operationId":"showBookingSeats","parameters":[{"name":"movieId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"branchId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"screeningDate","in":"path","required":true,"schema":{"type":"string","format":"date"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/chooseTheaterAndTime"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ShowSeatsDTO"}}}}}}},"/signup":{"post":{"tags":["user-controller"],"operationId":"signUp","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/selectSeats":{"post":{"tags":["예매페이지"],"summary":"좌석 선택시 결제중인 좌석인지 확인하는 API","description":"사용자가 좌석을 선택했을때, <br>해당 좌석을 다른 사용자가 이미 결제중인 상황일 때 ,False 리턴<br>아무도 해당 좌석을 결제중이 아니라면 True 리턴<br> 막아두는 시간 3분으로 정해둠 (3분 이후에 다시 좌석 선택 가능)<br> 요청 형태는 아래 스키마(selectSeatsDTO) 확인해보면 됩니당 ~","operationId":"selectSeats","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/selectSeatsDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/login":{"post":{"tags":["user-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/booking":{"post":{"tags":["예매페이지"],"summary":"결제완료 후 결제 정보 및 예매 정보 저장","description":"결제완료 후 결제 정보 및 예매 정보 저장 <br>결제 완료 되면 보내주기 <br>보내줄때 형식은 아래 스키마(bookingSeat) 확인해서 보내주면 될거같아여<br>예매 후 어떻게 반환 되는지는 스키마(checkBooking) 확인 하기 ~","operationId":"booking","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/bookingSeats"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/checkBooking"}}}}}}},"/ticket":{"get":{"tags":["예매페이지"],"summary":"영화 리스트, 관람 연령가, 개봉날짜 예매율 순 출력","description":"예매 페이지 들어왔을때 첫 화면<b>정렬 : 예매율(투표율) 순 (기본)<br><hr><i>상영 예정작도 예매 가능하기 때문에 개봉 날짜가 필요할 것 같아서 추가로 넣었어여</hr></i>","operationId":"getAllMoviesForTickets","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MovieListForTickets"}}}}}}}},"/ticket/{movieId}":{"get":{"tags":["예매페이지"],"summary":"예매페이지에서 영화 선택시 아래 포스터 경로 출력","description":"예매페이지에서 영화 선택시 아래 포스터 경로 출력","operationId":"getMoviePoster","parameters":[{"name":"movieId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MoviePosterDTO"}}}}}}},"/ticket/{movieId}/{branchId}/{screeningDate}":{"get":{"tags":["movie-controller"],"operationId":"availableTheaterSeats","parameters":[{"name":"movieId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"branchId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"screeningDate","in":"path","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/theaterSeats"}}}}}}}},"/ticket/{movieId}/{BranchId}":{"get":{"tags":["movie-controller"],"operationId":"availableTheaterDate","parameters":[{"name":"movieId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"BranchId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string","format":"date"}}}}}}}},"/ticket/abc":{"get":{"tags":["예매페이지"],"summary":"영화 리스트, 관람 연령가, 개봉날짜 예매율 순 출력","description":"예매 페이지 들어왔을때 첫 화면<b>정렬 : 가나다순 (선택)<br><hr><i>상영 예정작도 예매 가능하기 때문에 개봉 날짜가 필요할 것 같아서 추가로 넣었어여</hr></i>","operationId":"getAllMoviesForTicketsBydic","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MovieListForTickets"}}}}}}}},"/test":{"get":{"tags":["movie-controller"],"operationId":"test","responses":{"200":{"description":"OK"}}}},"/movies":{"get":{"tags":["메인페이지"],"summary":"영화 리스트 출력","description":"[상영 예정 영화]와 [현재 상영중인 영화] 다 합쳐서 인기순으로 정렬 <br> 'tmdb list page 1' 중 우리나라에서 [현재 방영중 + 상영 에정]인 영화만 골라서 저장돼서, 출력되는 영화 양이 적을 수 있음","operationId":"getAllMovies","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MovieDTOBuilder"}}}}}}}},"/movies/upcoming":{"get":{"tags":["메인페이지"],"summary":"상영 예정인 영화 리스트 출력","description":"[상영 예정인 영화] 인기순으로 정렬","operationId":"getUpcomingMovies","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MovieDTOBuilder"}}}}}}}},"/movies/nowplaying":{"get":{"tags":["메인페이지"],"summary":"현재 상영 중인 영화 리스트 출력","description":"[현재 상영중인 영화] 인기순으로 정렬","operationId":"getPlayingMovies","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MovieDTOBuilder"}}}}}}}},"/movies/nowplaying/{sortId}":{"get":{"tags":["movie-controller"],"operationId":"getPlayingMoviesBySortId","parameters":[{"name":"sortId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MovieDTOBuilder"}}}}}}}},"/movies/details/{movieId}":{"get":{"tags":["메인페이지"],"summary":"영화 상세 정보 출력","description":"영화 상세 정보 출력<br><h3>조회 결과</h1><ul><li>\"movieId\" : 영화 ID</li><li>\"title\" : 영화 제목</li><li>\"posterPath\" : 포스터경로</li><li>\"releaseDate\" : 개봉 날짜</li><li>\"age\" : 관람연령</li><li>\"voteAverage\" : 투표율(예매율 대체)</li><li>\"productionCountry\" : 생산 국가</li><li>\"credits\" : 출연진(<i>\"director\" : 감독, \"character\": 캐릭터 - \"name\" : 배우</i>)</li><li>\"genres\" : 장르</li><li>\"overview\" : 소개 출력</li></ul>","operationId":"getMovieDetails","parameters":[{"name":"movieId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MovieDetailsDTO"}}}}}}}},"components":{"schemas":{"LocalTime":{"type":"object","properties":{"hour":{"type":"integer","format":"int32"},"minute":{"type":"integer","format":"int32"},"second":{"type":"integer","format":"int32"},"nano":{"type":"integer","format":"int32"}}},"chooseTheaterAndTime":{"type":"object","properties":{"theaterName":{"type":"string"},"screeningTime":{"$ref":"#/components/schemas/LocalTime"}}},"Seats":{"type":"object","properties":{"row":{"type":"string","description":"<h3>좌석 열</h3>강남 점 <li>1관 :  A~J</li><li>2관 : A~H</li><br>강변 점<li>1관 : A~J</li><li>2관 : A~J</li><li>3관 : A~H</li><li>4관 : A~I</li>","example":"A"},"num":{"type":"integer","description":"<h3>좌석 열</h3>강남 점 <ul><li>1관 :  1~10번</li><li>2관 : 1~10번</li></ul><br>강변 점<li>1관 : 1~10번</li><li>2관 : 1~10번</li><li>3관 : 1~10번/li><li>4관 : 1~12번</li>","format":"int32","example":1}}},"ShowSeatsDTO":{"type":"object","properties":{"branchName":{"type":"string"},"theaterName":{"type":"string"},"seats":{"type":"array","items":{"$ref":"#/components/schemas/Seats"}}}},"UserCreateRequest":{"type":"object","properties":{"userId":{"type":"string"},"password":{"type":"string"}}},"selectSeatsDTO":{"type":"object","properties":{"movieId":{"type":"integer","description":"영화 아이디","format":"int64","example":889737},"branchId":{"type":"integer","description":"지점 아이디 (강남, 강변 ID)","format":"int64","example":1},"theaterNum":{"type":"string","description":"상영관 몇관인지","example":"2"},"screeningDate":{"type":"string","description":"상영 날짜","format":"date","example":"2024-10-04"},"screeningTime":{"$ref":"#/components/schemas/LocalTime"},"seats":{"type":"array","description":"선택한 좌석 리스트","example":"[선택한 좌석들 ~]","items":{"$ref":"#/components/schemas/Seats"}}}},"UserLoginRequest":{"type":"object","properties":{"userId":{"type":"string"},"password":{"type":"string"}}},"TicketsCategory":{"type":"object","properties":{"ticketType":{"type":"string","description":"일반/청소년/경로/우대","example":"일반"},"ticketCount":{"type":"integer","description":"몇매인지","format":"int32","example":2}},"description":"티켓 종류 리스트","example":"일반 2매, 청소년 1매, 경로 1매"},"bookingSeats":{"type":"object","properties":{"movieId":{"type":"integer","description":"영화 아이디","format":"int64","example":889737},"screeningDate":{"type":"string","description":"상영 날짜","format":"date","example":"2024-10-04"},"screeningTime":{"$ref":"#/components/schemas/LocalTime"},"branchId":{"type":"integer","description":"지점 아이디 (강남, 강변 ID)","format":"int64","example":1},"theaterNum":{"type":"string","description":"상영관 몇관인지","example":"2"},"ticketsCategory":{"type":"array","description":"티켓 종류 리스트","example":"일반 2매, 청소년 1매, 경로 1매","items":{"$ref":"#/components/schemas/TicketsCategory"}},"seats":{"type":"array","description":"선택한 좌석 리스트","example":"[선택한 좌석들 ~]","items":{"$ref":"#/components/schemas/Seats"}},"paymentAmount":{"type":"integer","description":"총 결제 액","format":"int32","example":49000},"paymentType":{"type":"string","description":"결제 페이지에서 간편결제, 신용카드 등 적혀있는 부분 중 내가 선택한 결제방법","example":"간편결제"},"easyPaymentType":{"type":"string","description":"간편결제 중 네이버페이, 카카오페이 같이 한번 더 선택되는 부분 중 내가 선택한 결제 방법 ","example":"카카오페이"}}},"checkBooking":{"type":"object","properties":{"bookingNum":{"type":"string","description":"예매 번호","example":"9737-1004-1145-8810"},"bookingDate":{"type":"string","description":"결제 시각","format":"date-time"},"userId":{"type":"string","description":"유저 아이디","example":"juhee"},"paymentType":{"type":"string","description":"결제 페이지에서 간편결제, 신용카드 등 적혀있는 부분 중 내가 선택한 결제방법","example":"간편 결제"},"easyPaymentType":{"type":"string","description":"간편결제 중 네이버페이, 카카오페이 같이 한번 더 선택되는 부분 중 내가 선택한 결제 방법 ","example":"카카오페이"},"moviePosterPath":{"type":"string","description":"영화 포스터","example":"/dA1TGJPTVjlqPc8PiEE2PfvFBUp.jpg"},"movieTitle":{"type":"string","description":"영화 제목","example":"조커: 폴리 아 되"},"screeningDate":{"type":"string","description":"상영 날짜","format":"date","example":"2024-10-04"},"screeningTime":{"$ref":"#/components/schemas/LocalTime"},"branchName":{"type":"string","description":"지점 이름","example":"강남"},"theaterName":{"type":"string","description":"상영관('관'까지 붙어서 나옴)","example":"2관"},"ticketsCategory":{"type":"array","description":"티켓 종류 리스트","example":"일반 2매, 청소년 1매, 경로 1매","items":{"$ref":"#/components/schemas/TicketsCategory"}},"seats":{"type":"array","description":"선택한 좌석 리스트","example":"[선택한 좌석들 ~]","items":{"$ref":"#/components/schemas/Seats"}}}},"MovieListForTickets":{"type":"object","properties":{"movieId":{"type":"integer","format":"int64"},"title":{"type":"string"},"age":{"type":"string"},"releaseDate":{"type":"string","format":"date"}}},"MoviePosterDTO":{"type":"object","properties":{"movieId":{"type":"integer","format":"int64"},"title":{"type":"string"},"posterPath":{"type":"string"},"releaseDate":{"type":"string","format":"date"}}},"theaterSeats":{"type":"object","properties":{"branch":{"type":"string"},"theaterNum":{"type":"string"},"startTime":{"$ref":"#/components/schemas/LocalTime"},"endTime":{"$ref":"#/components/schemas/LocalTime"},"totalSeats":{"type":"string"},"remainSeats":{"type":"string"}}},"MovieDTOBuilder":{"type":"object","properties":{"movie_id":{"type":"integer","format":"int64"},"poster_path":{"type":"string"},"title":{"type":"string"},"release_date":{"type":"string","format":"date"},"age":{"type":"string"},"vote_average":{"type":"number","format":"float"}}},"MovieDetailsDTO":{"type":"object","properties":{"movieId":{"type":"integer","format":"int64"},"posterPath":{"type":"string"},"title":{"type":"string"},"releaseDate":{"type":"string","format":"date"},"age":{"type":"string"},"voteAverage":{"type":"number","format":"float"},"productionCountry":{"type":"string"},"credits":{"type":"array","items":{"type":"object","additionalProperties":{"type":"string"}}},"genres":{"type":"array","items":{"type":"string"}},"overview":{"type":"string"},"runtime":{"type":"integer","format":"int32"}}}}}}
